define(["jquery","core/ajax","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events"],function(r,e,t,a,i,n,o){function s(e){i.call(this,e)}var c='[data-action="hide"]',l='[data-region="modal"]';function g(){r.ajax({type:"POST",url:M.cfg.wwwroot+"/plagiarism/turnitin/ajax.php",dataType:"json",data:{action:"refresh_peermark_assignments",cmid:r('input[name="coursemodule"]').val(),sesskey:M.cfg.sesskey}})}return s.TYPE="plagiarism_turnitin-modal_peermark_manager_launch",s.TEMPLATE="plagiarism_turnitin/modal_peermark_manager_launch",((s.prototype=Object.create(i.prototype)).constructor=s).prototype.registerEventListeners=function(){i.prototype.registerEventListeners.call(this),this.getModal().on(a.events.activate,c,function(e,t){var a=r.Event(o.cancel);this.getRoot().trigger(a,this),a.isDefaultPrevented()||(this.hide(),t.originalEvent.preventDefault(),g())}.bind(this)),this.getRoot().click(function(e){r(e.target).closest(l).length||g()}.bind(this))},n.register(s.TYPE,s,"plagiarism_turnitin/modal_peermark_manager_launch"),s});
//# sourceMappingURL=modal_peermark_manager_launch.min.js.map