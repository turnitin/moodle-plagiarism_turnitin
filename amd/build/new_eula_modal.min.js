define("plagiarism_turnitin/new_eula_modal",["jquery","core/templates","core/modal","core/modal_events","plagiarism_turnitin/modal_eula_launch","plagiarism_turnitin/eula_event_listener"],(function($,Templates,Modal,ModalEvents,ModalEulaLaunch,EulaEventListener){return{newEulaLaunch:function(){var turnitinEulaClass=$(".pp_turnitin_eula");turnitinEulaClass.show(),$(document).on("mod_forum-post-created",".forum-post-container",(function(event,newid){$("#post-content-"+newid+" .pp_turnitin_eula").show()})),$(document).on("click",".pp_turnitin_eula_link",(function(){Modal.create({type:ModalEulaLaunch.TYPE,template:ModalEulaLaunch.TEMPLATE,templateContext:{cmid:$('input[name="coursemodule"]').val(),wwwroot:M.cfg.wwwroot},large:!0}).then((function(modal){modal.show(),modal.getRoot().find(".modal").addClass("tii_pp_modal_eula"),modal.getRoot().find(".modal-content").addClass("tii_pp_modal_eula_content"),modal.getRoot().on(ModalEvents.hidden,(function(){window.location.reload()})),EulaEventListener.attach()}))})),$(".pp_turnitin_eula_ignored").length>0&&($(".editsubmissionform").length>0&&$(".editsubmissionform").hide(),turnitinEulaClass.siblings(".mform").length>0&&turnitinEulaClass.siblings(".mform").hide())}}}));

//# sourceMappingURL=new_eula_modal.min.js.map