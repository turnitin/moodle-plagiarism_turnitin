require.config({paths:{"plagiarism_turnitin/datatables":"/plagiarism/turnitin/vendorjs/datatables.min"}}),define(["jquery","plagiarism_turnitin/datatables"],function($,DataTables){return{pluginSettings:function(){$(document).ready(function($){$('input[name="errors_select_all"]').click(function(){$(this).prop("checked")?$(".errors_checkbox").prop("checked",!0):$(".errors_checkbox").prop("checked",!1)}),$(".pp-resubmit-files").click(function(){var i=[];$(".errors_checkbox:checked").each(function(t){i[t]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"resubmit_events",submission_ids:i,sesskey:M.cfg.sesskey},success:function(t){window.location.href=window.location.href+"&resubmitted=success"},error:function(t,i){window.location.href=window.location.href+"&resubmitted=errors"}})}),$(document).on("click",'.errors_checkbox, input[name="errors_select_all"]',function(){0<$(".errors_checkbox:checked").length?$(".pp-resubmit-files").removeAttr("disabled"):$(".pp-resubmit-files").attr("disabled","disabled")}),$("#id_plagiarism_turnitin_enablepseudo").change(function(){"1"==$("#id_plagiarism_turnitin_enablepseudo").val()?$(".studentprivacy").show():$(".studentprivacy").hide()});var ct=$("#id_connection_test"),dataTablesLang=(0<ct.length&&(ct.hide(),""==$("#id_plagiarism_turnitin_accountid").val()&&""==$("#id_plagiarism_turnitin_secretkey").val()||ct.show(),$("#id_plagiarism_turnitin_accountid, #id_plagiarism_turnitin_secretkey, #id_plagiarism_turnitin_apiurl").keyup(function(){ct.hide();var t=$("#id_plagiarism_turnitin_accountid").val(),i=$("#id_plagiarism_turnitin_secretkey").val(),t=t.trim(),i=i.trim();0==t.length||0==i.length?ct.hide():ct.show()}),$("#id_connection_test").click(function(){var url="ajax.php",accountid=(0<$(".settingsform fieldset div.formsettingheading").length&&(url="../plagiarism/turnitin/ajax.php"),$("#id_plagiarism_turnitin_accountid").val()),accountshared=$("#id_plagiarism_turnitin_secretkey").val(),accounturl=$("#id_plagiarism_turnitin_apiurl").val();$.ajax({type:"POST",url:url,dataType:"json",data:{action:"test_connection",sesskey:M.cfg.sesskey,accountid:accountid,accountshared:accountshared,url:accounturl},success:function(data){eval(data),200===data.connection_status?(ct.removeClass("connection-test-failed"),ct.addClass("connection-test-success"),changeString(ct,M.str.plagiarism_turnitin.connecttestsuccess)):(ct.removeClass("connection-test-success"),ct.addClass("connection-test-failed"),changeString(ct,M.str.plagiarism_turnitin.connecttestfailed)),ct.delay(1e3).fadeOut("slow",function(){$(this).removeClass("connection-test-failed"),$(this).removeClass("connection-test-success"),changeString(ct,M.str.plagiarism_turnitin.connecttest)}).fadeIn("slow"),$("#testing_container").hide()}})})),{nointegration:M.str.plagiarism_turnitin.nointegration,processing:M.str.plagiarism_turnitin.sprocessing,zeroRecords:M.str.plagiarism_turnitin.szerorecords,info:M.str.plagiarism_turnitin.sinfo,search:M.str.plagiarism_turnitin.ssearch,lengthMenu:M.str.plagiarism_turnitin.slengthmenu,infoEmpty:M.str.plagiarism_turnitin.semptytable,paginate:{next:M.str.plagiarism_turnitin.snext,previous:M.str.plagiarism_turnitin.sprevious}});function changeString(t,i){"BUTTON"===t.get(0).tagName?t.text(i):t.attr("value",i)}$("#unlinkUserTable").dataTable({destroy:!0,processing:!0,serverSide:!0,language:dataTablesLang,order:[[2,"asc"]],lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],ajax:"ajax.php?action=get_users",columns:[{sortable:!1,createdCell:function(t,i,e,n,a){$(t).addClass("centered_cell")}},{},{sort:[2,3]},{sort:[3,2]},{}],drawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1)}})})}}});
//# sourceMappingURL=plugin_settings.min.js.map