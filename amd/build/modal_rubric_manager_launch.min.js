define(["jquery","core/ajax","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events"],function(r,t,e,i,a,n,o){function c(t){a.call(this,t)}var s='[data-action="hide"]',l='[data-region="modal"]';function u(){var e=r("#id_plagiarism_rubric").val();r.ajax({type:"POST",url:M.cfg.wwwroot+"/plagiarism/turnitin/ajax.php",dataType:"json",data:{action:"refresh_rubric_select",assignment:r('input[name="instance"]').val(),modulename:r('input[name="modulename"]').val(),course:r('input[name="course"]').val()},success:function(t){r(r("#id_plagiarism_rubric")).empty(),r.each(t,function(t,e){var a;r.isNumeric(t)||""===t?r(r("#id_plagiarism_rubric")).append(r("<option>",{value:t,text:e})):((a=r("<optgroup>")).attr("label",t),r.each(e,function(t,e){var i=r("<option></option>");i.val(t),i.text(e),a.append(i)}),r("#id_plagiarism_rubric").append(a))}),r('#id_plagiarism_rubric option[value="'+e+'"]').attr("selected","selected")}})}return c.TYPE="plagiarism_turnitin-modal_rubric_manager_launch",c.TEMPLATE="plagiarism_turnitin/modal_rubric_manager_launch",((c.prototype=Object.create(a.prototype)).constructor=c).prototype.registerEventListeners=function(){a.prototype.registerEventListeners.call(this),this.getModal().on(i.events.activate,s,function(t,e){var i=r.Event(o.cancel);this.getRoot().trigger(i,this),i.isDefaultPrevented()||(this.hide(),e.originalEvent.preventDefault(),u())}.bind(this)),this.getRoot().click(function(t){r(t.target).closest(l).length||u()}.bind(this))},c.refreshRubricSelect=u,n.register(c.TYPE,c,"plagiarism_turnitin/modal_rubric_manager_launch"),c});
//# sourceMappingURL=modal_rubric_manager_launch.min.js.map